<nz-table [nzBordered]="true" [nzData]="permissions" nzSize="middle">
  <thead>
    <tr>
      <th rowspan="2">Permissions</th>
      <th [colspan]="roles.length" class="text-center">Roles</th>
    </tr>
    <tr>
      <th *ngFor="let role of roles" nzAlign="center">{{ role.name }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let permission of permissions">
      <td nzLeft>{{ permission.name }}</td>
      <td *ngFor="let role of roles" nzAlign="center">
        <div
          nz-checkbox
          [ngModel]="permissionInRole(permission, role)"
          (ngModelChange)="assignPermissionToRole(permission, role, $event)"
        ></div>
      </td>
    </tr>
  </tbody>
</nz-table>
