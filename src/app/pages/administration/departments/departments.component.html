<div nz-row>
  <div nz-col nzSpan="24">
    <app-table
      [loading]="isLoading"
      [showPagination]="false"
      [showCustomActions]="true"
      [showSearch]="false"
      [showCheckBoxColumn]="false"
      [listOfCustomActions]="actions"
      [listOfData]="departmentsTable.rows"
      [listOfColumn]="departmentsTable.columns"
      [showButton]="perms.permissionsOnly(PK.MANAGE_DEPARTMENTS)"
      [buttonText]="'Create Department'"
      [hasNextPage]="pageInfo?.hasNextPage"
      [hasPreviousPage]="pageInfo?.hasPreviousPage"
      (onNext)="navigatePages('next')"
      (onPrevious)="navigatePages('previous')"
      (onAction)="handleActionClick($event)"
      (rowClick)="handleRowClick($event)"
      (onButton)="toggleCreatePanel()"
    >
    </app-table>
  </div>
</div>

<nz-drawer
  [nzMask]="true"
  [nzClosable]="true"
  [nzMaskClosable]="false"
  [nzVisible]="showCreateDepartment"
  nzPlacement="right"
  [nzTitle]="panelTitle"
  (nzOnClose)="closeCreatePanel()"
>
  <app-form
    class="mt-3"
    [form]="departmentForms"
    [formData]="department"
    [isLoading]="isLoading"
    [populateForm]="populateForm"
    [resetForm]="resetForm"
    [inputMode]="inputMode"
    [showCancelButton]="showCancelButton"
    [loadingMessage]="loadingMessage"
    (submitForm)="submitForm($event)"
  >
  </app-form>
</nz-drawer>
